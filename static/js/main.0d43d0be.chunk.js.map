{"version":3,"sources":["utils.js","WebAPI.js","components/Post/Post.js","pages/HomePage/HomePage.js","context.js","components/LoginBox/LoginBox.js","pages/LoginPage/LoginPage.js","components/Article/Article.js","pages/ArticlePage/ArticlePage.js","components/NewArticle/NewArticle.js","pages/WriteArticlePage/WriteArticlePage.js","components/Header/Header.js","components/App/App.js","reportWebVitals.js","index.js"],"names":["TOKEN_NAME","setAuthToken","token","localStorage","setItem","getAuthToken","getItem","BASE_URL","getMe","fetch","headers","then","res","json","PostContainer","styled","div","PostInformation","PostTitle","Link","PostTime","Post","post","to","id","title","Date","createdAt","toLocaleString","Posts","HomePage","useState","posts","setPosts","useEffect","map","AuthContext","createContext","LoginContainer","form","Title","Inuput","input","Button","button","ErrorMessage","LoginBox","setUser","useContext","username","setUsername","password","setPassword","errorMessage","setErrorMessage","navigate","useNavigate","handleChange","e","inputValue","target","value","classList","contains","handleFocus","onSubmit","preventDefault","method","body","JSON","stringify","login","data","ok","message","for","className","onChange","onFocus","type","LoginPage","ArticleContainer","ArticleTitle","ArticleTime","ArticleContent","Article","article","console","log","ArticlePage","setArticle","useParams","getPost","NewArticleContainer","Content","textarea","Buttons","Input","NewArticle","setTitle","content","setContent","write","rows","WriteArticlePage","HeaderContainer","NavbarListContainer","Brand","NarbarList","ul","Nav","props","$active","Header","user","location","useLocation","pathname","onClick","Root","App","Provider","exact","path","element","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.0d43d0be.chunk.js","sourcesContent":["const TOKEN_NAME = 'token'\r\n\r\nexport const setAuthToken = (token) => {\r\n  localStorage.setItem(TOKEN_NAME, token)\r\n}\r\n\r\nexport const getAuthToken = () => {\r\n  return localStorage.getItem(TOKEN_NAME)\r\n}\r\n\r\n","import { getAuthToken } from './utils'\r\n\r\nconst BASE_URL = 'https://student-json-api.lidemy.me'\r\n\r\nconst getPosts = () => {\r\n  return (\r\n    fetch(`${BASE_URL}/posts?_sort=createdAt&_order=desc`)\r\n    .then((res) => \r\n      res.json()\r\n    )\r\n  )\r\n}\r\n\r\nconst getPost = (id) => {\r\n  return (\r\n    fetch(`${BASE_URL}/posts?id=${id}`)\r\n    .then((res) => \r\n      res.json()\r\n    )\r\n  )\r\n}\r\n\r\nconst login = (username, password) => {\r\n  return fetch(`${BASE_URL}/login`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'content-type': 'application/json'\r\n    },\r\n    body: JSON.stringify({\r\n      username,\r\n      password\r\n    })\r\n  })\r\n  .then(res => res.json())\r\n}\r\n\r\nconst getMe = () => {\r\n  const token = getAuthToken()\r\n  return fetch(`${BASE_URL}/me`, {\r\n    headers: {\r\n      'authorization': `Bearer ${token}`\r\n    }\r\n  })\r\n  .then(res => res.json())\r\n}\r\n\r\nconst write = (title, body) => {\r\n  const token = getAuthToken()\r\n  return fetch(`${BASE_URL}/posts`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'authorization': `Bearer ${token}`,\r\n      'content-type': 'application/json'\r\n    },\r\n    body: JSON.stringify({\r\n      title,\r\n      body\r\n    })\r\n  })\r\n  .then(res => res.json())\r\n}\r\n\r\nexport {\r\n  getPosts,\r\n  getPost,\r\n  login,\r\n  getMe,\r\n  write\r\n}","import styled from 'styled-components'\nimport PropTypes from 'prop-types'\nimport { Link } from \"react-router-dom\"\n\nconst PostContainer = styled.div`\n  border-bottom: 1px rgba(0, 0, 0, 0.9) solid;\n  padding: 20px 24px;\n  cursor: pointer;\n  &:hover {\n    background: rgba(0, 0, 0, 0.3)\n  }\n`\nconst PostInformation = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center\n`\n\nconst PostTitle = styled(Link)`\n  font-weight: bold;\n  font-size: 32px;\n  text-decoration: none;\n  color: black\n`\nconst PostTime = styled.div`\n  font-size: 24px;\n  color: rgba(0, 0, 0, 0.3)\n`\nexport default function Post({ post }) {\n  return (\n    <PostContainer>\n      <PostInformation>\n        <PostTitle to={`/posts/${post.id}`}>{post.title}</PostTitle>\n        <PostTime>{new Date(post.createdAt).toLocaleString()}</PostTime>\n      </PostInformation>\n    </PostContainer>\n  )\n}\n\nPost.propTypes = {\n  post: PropTypes.shape({\n      id: PropTypes.string,\n      username: PropTypes.string,\n      title: PropTypes.string,\n      body: PropTypes.string,\n      createdAt: PropTypes.string\n    })\n};\n","import React, { useState, useEffect } from 'react'\nimport styled from 'styled-components'\nimport { getPosts } from '../../WebAPI'\nimport Post from '../../components/Post'\n\nconst Posts = styled.div`\n`\nexport default function HomePage() {\n  const [ posts, setPosts ] = useState([])\n  useEffect(() => {\n    getPosts().then(posts => setPosts(posts))\n  }, [])\n  return (\n    <Posts>\n      {posts.map((post) => <Post key={post.id} post={post} />)}\n    </Posts>\n  );\n}\n\n","import { createContext } from 'react'\r\n\r\nexport const AuthContext = createContext(null)","import { useState, useContext } from 'react'\nimport styled from 'styled-components'\nimport { login, getMe} from '../../WebAPI'\nimport { setAuthToken } from '../../utils'\nimport { useNavigate } from 'react-router-dom'\nimport { AuthContext } from '../../context'\n\nconst LoginContainer = styled.form`\n  display: flex;\n  border: 1px black solid;\n  flex-direction: column;\n  align-items: center;\n  border: 1px #000000solid solid;\n  height: 60vh;\n  width: 50%;\n  margin: 200px auto;\n  padding: 40px;\n  box-sizing: border-box;\n  label {\n    margin-top: 20px\n  }\n`\n\nconst Title = styled.div`\n  font-size: 48px\n`\n\nconst Inuput = styled.input`\n  width: 100%;\n  margin-top: 16px;\n  height: 40px;\n`\n\nconst Button = styled.button`\n  height: 56px;\n  width: 100px;\n  margin-top: 73px;\n`\n\nconst ErrorMessage = styled.div`\n  color: red;\n  font-size: 24px\n`\n\nexport default function LoginBox() {\n  const { setUser } = useContext(AuthContext)\n  const [username, setUsername] = useState('')\n  const [password, setPassword] = useState('')\n  const [errorMessage, setErrorMessage] = useState('')\n  const navigate = useNavigate()\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    setErrorMessage('')\n    login(username, password)\n    .then((data) => {\n      if (data.ok === 0) {\n        setErrorMessage(data.message)\n      }\n      setAuthToken(data.token)\n      getMe()\n      .then((res) => {\n        if (res.ok !== 1) {\n          setAuthToken(null)\n          return setErrorMessage('查無使用者')\n        }\n        setUser(res.data)\n        navigate('/')\n      })\n    })\n  }\n  const handleChange = (e) => {\n    const inputValue = e.target.value\n    if (e.target.classList.contains('username')) {\n      return setUsername(inputValue)\n    }\n    return setPassword(inputValue)\n  }\n  const handleFocus = (e) => {\n    setErrorMessage('')\n  }\n  return (\n    <LoginContainer onSubmit={handleSubmit}>\n      <Title>Login</Title>\n      {errorMessage && <ErrorMessage>{errorMessage}</ErrorMessage>}\n      <label for=\"username\">Username</label>\n      <Inuput className=\"username\" id=\"username\" onChange={handleChange} onFocus={handleFocus} value={username}></Inuput>\n      <label for=\"password\">Password</label>\n      <Inuput className=\"password\" id=\"password\" type=\"password\" onChange={handleChange} onFocus={handleFocus} value={password}></Inuput>\n      <Button>登入</Button>      \n    </LoginContainer>\n  )\n}","import LoginBox from '../../components/LoginBox'\n\nexport default function LoginPage() {\n  return (\n    <LoginBox></LoginBox>\n  );\n}\n","import styled from 'styled-components'\nimport PropTypes from 'prop-types'\nimport { \n  Link\n} from \"react-router-dom\"\n\nconst ArticleContainer = styled.div`\n  text-align: center;\n  margin: 0 auto;\n  margin-top: 100px;\n  box-sizing: border-box;\n  padding: 20px;\n  width: 900px;\n  border: solid #9a9a9a 1px;\n  div + div {\n    margin-top: 20px;\n  }\n  @media (max-width: 768px) {\n    max-width: 600px;\n  }\n`\n\nconst ArticleTitle = styled.div`\n  font-size: 36px;\n  font-weight: bold;\n`\n\nconst ArticleTime = styled.div`\n  font-size: 24px;\n  background: #eee; \n`\nconst ArticleContent = styled.div`\n  padding: 15px;\n  text-align: left;\n  font-size: 24px;\n`\n\nconst Button = styled(Link)`\n  padding: 3px 12px;\n  border: solid 1px #a8a8a8;\n  color: #a8a8a8;\n  text-decoration: none;\n  font-size: 14px;\n  border-radius: 5px;\n  cursor: pointer\n`\n\nexport default function Article({ article }) {\n  console.log('render:', article)\n  return (\n    <ArticleContainer>\n      <ArticleTitle>{article.title}</ArticleTitle>\n      <ArticleTime>{new Date(article.createdAt).toLocaleString()}</ArticleTime>\n      <ArticleContent>{article.body}</ArticleContent>\n      <div><Button to=\"/\">返回首頁</Button></div>\n    </ArticleContainer>\n  )\n}\n\nArticle.propTypes = {\n  article: PropTypes.shape({\n      id: PropTypes.string,\n      username: PropTypes.string,\n      title: PropTypes.string,\n      body: PropTypes.string,\n      createdAt: PropTypes.string\n    })\n};\n","import { useState, useEffect } from 'react'\r\nimport { getPost } from '../../WebAPI'\r\nimport Article from '../../components/Article'\r\nimport { useParams } from 'react-router-dom'\r\n\r\nexport default function ArticlePage() {\r\n  const [ article, setArticle ] = useState([])\r\n  const { id } = useParams()\r\n  useEffect(() => {\r\n    getPost(id).then(article => setArticle(article[0]))\r\n  }, [id])\r\n  return (\r\n    <Article article={article}></Article>\r\n  );\r\n}\r\n\r\n","import { useState } from 'react'\nimport styled from 'styled-components'\nimport { Link, useNavigate } from 'react-router-dom'\nimport { write } from '../../WebAPI'\n\nconst NewArticleContainer = styled.form`\n  padding: 12px 20px;\n  text-align: center;\n  display: flex;\n  flex-direction: column;\n  border: 1px black solid;\n  width: 900px;\n  margin: 0 auto;\n  margin-top: 100px;\n  @screen and (max-width: 768px) {\n    max-width: 600px\n  }\n`\n\nconst Title = styled.input`\n  margin-top: 32px;\n  height: 40px\n`\n\nconst Content = styled.textarea`\n  margin-top: 32px;\n`\n\nconst Buttons = styled.div`\n  margin-top: 20px;\n`\n\nconst Input = styled.input`\n  float: left\n`\n\nconst Button = styled(Link)`\n  float: right;\n  text-decoration: none\n`\n\nconst ErrorMessage = styled.div`\n  color: red;\n  font-size: 24px\n`\n\nexport default function NewArticle() {\n  const navigate = useNavigate()\n  const [title, setTitle] = useState('')\n  const [content, setContent] = useState('')\n  const [errorMessage, setErrorMessage] = useState('')\n  const handleChange = (e) => {\n    const target = e.target\n    if (target.classList.contains('title')) {\n      return setTitle(target.value)\n    }\n    return setContent(target.value)\n  }\n  const handleSubmit = (e) => {\n    e.preventDefault()\n    write(title, content)\n    .then((data) => {\n      if (data.ok === 0) {\n        return setErrorMessage(data.message)\n      }\n      navigate('/')\n    })\n  }\n  const handleFocus = () => {\n    setErrorMessage('')\n  }\n  return (\n    <NewArticleContainer onSubmit={handleSubmit}>\n      <h1>發布文章</h1>\n      {errorMessage && <ErrorMessage>{errorMessage}</ErrorMessage>}\n      <Title className=\"title\" value={title} onChange={handleChange} onFocus={handleFocus}></Title>\n      <Content className=\"content\" rows={10} value={content} onChange={handleChange} onFocus={handleFocus}></Content>\n      <Buttons>\n        <Input type=\"submit\" value=\"送出\"></Input>\n        <Button to=\"/\">返回首頁</Button>\n      </Buttons>\n    </NewArticleContainer>\n  )\n}\n","import NewArticle from '../../components/NewArticle'\n\nexport default function WriteArticlePage() {\n  return (\n    <NewArticle></NewArticle>\n  );\n}\n","import { useContext } from 'react'\nimport styled from 'styled-components'\nimport { Link, useLocation, useNavigate } from \"react-router-dom\"\nimport { AuthContext } from '../../context'\nimport { setAuthToken } from '../../utils'\n\nconst HeaderContainer = styled.div`\n  background: #333333;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  border-bottom: 1px rgba(0, 0, 0, 0.2) solid;\n  color: #2828FF;\n  padding: 0px 32px;\n  box-shadow: 0px 5px 2px 1px rgba(0, 0, 0, 0.2);\n`\n\nconst NavbarListContainer = styled.div`\n  display: flex;\n  align-items: center;\n`\n\nconst Brand = styled.div`\n  display: inline-block;\n  font-size: 48px;\n  font-weight: bold;\n  margin-right: 32px\n`\n\nconst NarbarList = styled.ul`\n  list-style-type: none;\n  margin: auto 0;\n  padding: 0;\n  overflow: hidden;\n  background-color: #333333;\n  display: inline-block;\n`\n\nconst Nav = styled(Link)`\n  cursor: pointer;\n  font-size: 36px;\n  display: inline-block;\n  color: white;\n  text-align: center;\n  padding: 16px 32px;\n  text-decoration: none;\n\n  ${(props) => props.$active && 'background: #7B7B7B'}\n`\n\nexport default function Header() {\n  const { user, setUser } = useContext(AuthContext)\n  const navigate = useNavigate()\n  const location = useLocation()\n  const handleLogout = () => {\n    setAuthToken(null)\n    setUser('')\n    navigate('/')\n  }\n  return (\n    <HeaderContainer>\n      <NavbarListContainer>\n        <Brand>Blog</Brand>\n        <NarbarList>\n          <Nav to=\"/\" $active={location.pathname === '/'}>首頁</Nav>\n          {user && <Nav to=\"/newpost\" $active={location.pathname === '/newpost'}>發布文章</Nav>}\n        </NarbarList>\n      </NavbarListContainer>\n      <NavbarListContainer>\n        <NarbarList>\n          {user?  <Nav to=\"\" onClick={handleLogout}>登出</Nav> : <Nav to=\"/login\" $active={location.pathname === '/login'}>登入</Nav>}\n        </NarbarList>\n      </NavbarListContainer>\n    </HeaderContainer>\n  );\n}\n","import { useState, useEffect } from 'react'\nimport styled from 'styled-components'\nimport { \n  HashRouter as Router,\n  Routes,\n  Route\n} from \"react-router-dom\"\nimport HomePage from '../../pages/HomePage'\nimport LoginPage from '../../pages/LoginPage'\nimport ArticlePage from '../../pages/ArticlePage'\nimport WriteArticlePage from '../../pages/WriteArticlePage'\nimport Header from '../Header'\nimport { AuthContext } from '../../context'\nimport { getMe } from '../../WebAPI'\n\nconst Root = styled.div``\n\nfunction App() {\n  const [user, setUser] = useState(null)\n  useEffect(() => {\n    if (localStorage.getItem('token')) {\n      getMe()\n      .then((res) => {\n        if (res.ok) {\n          setUser(res.data)\n        }\n      })\n    }\n  }, [])\n  return (\n    <AuthContext.Provider value={{ user, setUser }}>\n      <Root>\n        <Router>\n          <Header />\n          <Routes>\n            <Route exact path=\"/\" element={<HomePage />}/>\n            <Route exact path=\"/login\" element={<LoginPage />}/>\n            <Route exact path=\"/newpost\" element={<WriteArticlePage/>}/>\n            <Route exact path=\"/posts/:id\" element={<ArticlePage />}/>\n          </Routes>\n        </Router>\n      </Root>\n    </AuthContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}